<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indice dei file</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>ðŸ“‚ Indice dei file</h1>
    <p>Questa pagina mostra tutti i file presenti nella directory della repository.</p>

    <ul id="file-list">Caricamento...</ul>

    <script>
        async function fetchFiles() {
            const repoOwner = "renavet";  // Sostituisci con il tuo username GitHub
            const repoName = "Appunti";   // Nome della tua repo
            const branch = "main";        // Branch principale
            const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/`;

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                const fileList = document.getElementById("file-list");
                fileList.innerHTML = ""; // Pulisce la lista

                data.forEach(item => {
                    const li = document.createElement("li");
                    const a = document.createElement("a");
                    a.href = item.html_url; // Link alla pagina del file su GitHub
                    a.textContent = item.name;
                    li.appendChild(a);
                    fileList.appendChild(li);
                });

            } catch (error) {
                document.getElementById("file-list").innerHTML = "Errore nel caricamento dei file.";
                console.error("Errore nel recupero dei file:", error);
            }
        }

        fetchFiles();
    </script>

</body>
</html>
